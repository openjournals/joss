<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">1864</article-id>
<article-id pub-id-type="doi">10.21105/joss.01864</article-id>
<title-group>
<article-title>emcee v3: A Python ensemble sampling toolkit for
affine-invariant MCMC</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-0872-7098</contrib-id>
<string-name>Daniel Foreman-Mackey</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-1540-8562</contrib-id>
<string-name>Will M. Farr</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-2"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-4845-1228</contrib-id>
<string-name>Manodeep Sinha</string-name>
<xref ref-type="aff" rid="aff-3"/>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-0638-3340</contrib-id>
<string-name>Anne M. Archibald</string-name>
<xref ref-type="aff" rid="aff-5"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-2866-9403</contrib-id>
<string-name>David W. Hogg</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-6"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-2189-4501</contrib-id>
<string-name>Jeremy S. Sanders</string-name>
<xref ref-type="aff" rid="aff-7"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0001-9789-9646</contrib-id>
<string-name>Joe Zuntz</string-name>
<xref ref-type="aff" rid="aff-8"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-3734-3587</contrib-id>
<string-name>Peter K. G. Williams</string-name>
<xref ref-type="aff" rid="aff-9"/>
<xref ref-type="aff" rid="aff-10"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-4548-3558</contrib-id>
<string-name>Andrew R. J. Nelson</string-name>
<xref ref-type="aff" rid="aff-11"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-0455-9384</contrib-id>
<string-name>Miguel de Val-Borro</string-name>
<xref ref-type="aff" rid="aff-12"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-6683-6746</contrib-id>
<string-name>Tobias Erhardt</string-name>
<xref ref-type="aff" rid="aff-13"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-9404-7023</contrib-id>
<string-name>Ilya Pashchenko</string-name>
<xref ref-type="aff" rid="aff-14"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-1847-9481</contrib-id>
<string-name>Oriol Abril Pla</string-name>
<xref ref-type="aff" rid="aff-15"/>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Center for Computational Astrophysics, Flatiron
Institute</institution>
</institution-wrap>
</aff>
<aff id="aff-2">
<institution-wrap>
<institution>Department of Physics and Astronomy, Stony Brook
University, United States</institution>
</institution-wrap>
</aff>
<aff id="aff-3">
<institution-wrap>
<institution>Centre for Astrophysics &amp; Supercomputing, Swinburne
University of Technology, Australia</institution>
</institution-wrap>
</aff>
<aff id="aff-4">
<institution-wrap>
<institution>ARC Centre of Excellence for All Sky Astrophysics in 3
Dimensions (ASTRO 3D)</institution>
</institution-wrap>
</aff>
<aff id="aff-5">
<institution-wrap>
<institution>University of Newcastle</institution>
</institution-wrap>
</aff>
<aff id="aff-6">
<institution-wrap>
<institution>Center for Cosmology and Particle Physics, Department of
Physics, New York University</institution>
</institution-wrap>
</aff>
<aff id="aff-7">
<institution-wrap>
<institution>Max Planck Institute for Extraterrestrial
Physics</institution>
</institution-wrap>
</aff>
<aff id="aff-8">
<institution-wrap>
<institution>Institute for Astronomy, University of Edinburgh,
Edinburgh, EH9 3HJ, UK</institution>
</institution-wrap>
</aff>
<aff id="aff-9">
<institution-wrap>
<institution>Center for Astrophysics | Harvard &amp;
Smithsonian</institution>
</institution-wrap>
</aff>
<aff id="aff-10">
<institution-wrap>
<institution>American Astronomical Society</institution>
</institution-wrap>
</aff>
<aff id="aff-11">
<institution-wrap>
<institution>Australian Nuclear Science and Technology Organisation,
NSW, Australia</institution>
</institution-wrap>
</aff>
<aff id="aff-12">
<institution-wrap>
<institution>Planetary Science Institute, 1700 East Fort Lowell Rd.,
Suite 106, Tucson, AZ 85719, USA</institution>
</institution-wrap>
</aff>
<aff id="aff-13">
<institution-wrap>
<institution>Climate and Environmental Physics and Oeschger Center for
Climate Change Research, University of Bern, Bern,
Switzerland</institution>
</institution-wrap>
</aff>
<aff id="aff-14">
<institution-wrap>
<institution>P.N. Lebedev Physical Institute of the Russian Academy of
Sciences, Moscow, Russia</institution>
</institution-wrap>
</aff>
<aff id="aff-15">
<institution-wrap>
<institution>Universitat Pompeu Fabra, Barcelona</institution>
</institution-wrap>
</aff>
</contrib-group>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2019-10-17">
<day>17</day>
<month>10</month>
<year>2019</year>
</pub-date>
<volume>4</volume>
<issue>43</issue>
<fpage>1864</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2021</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>astronomy</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p><monospace>emcee</monospace> is a Python library implementing a
  class of affine-invariant ensemble samplers for Markov chain Monte
  Carlo (MCMC). This package has been widely applied to probabilistic
  modeling problems in astrophysics where it was originally published
  (<xref alt="Foreman-Mackey et al., 2013" rid="ref-Foreman-MackeyU003A2013" ref-type="bibr">Foreman-Mackey
  et al., 2013</xref>), with some applications in other fields. When it
  was first released in 2012, the interface implemented in
  <monospace>emcee</monospace> was fundamentally different from the MCMC
  libraries that were popular at the time, such as
  <monospace>PyMC</monospace>, because it was specifically designed to
  work with “black box” models instead of structured graphical models.
  This has been a popular interface for applications in astrophysics
  because it is often non-trivial to implement realistic physics within
  the modeling frameworks required by other libraries. Since
  <monospace>emcee</monospace>’s release, other libraries have been
  developed with similar interfaces, such as
  <monospace>dynesty</monospace>
  (<xref alt="Speagle, 2019" rid="ref-SpeagleU003A2019" ref-type="bibr">Speagle,
  2019</xref>). The version 3.0 release of <monospace>emcee</monospace>
  is the first major release of the library in about 6 years and it
  includes a full re-write of the computational backend, several
  commonly requested features, and a set of new “move”
  implementations.</p>
  <p>This new release includes both small quality of life
  improvements—like a progress bar using
  <ext-link ext-link-type="uri" xlink:href="https://tqdm.github.io"><monospace>tqdm</monospace></ext-link>—and
  larger features. For example, the new <monospace>backends</monospace>
  interface implements real time serialization of sampling results. By
  default <monospace>emcee</monospace> saves its results in memory (as
  in the original implementation), but it now also includes a
  <monospace>HDFBackend</monospace> class that serializes the chain to
  disk using
  <ext-link ext-link-type="uri" xlink:href="https://www.h5py.org">h5py</ext-link>.</p>
  <p>The most important new feature included in the version 3.0 release
  of <monospace>emcee</monospace> is the new
  <monospace>moves</monospace> interface. Originally,
  <monospace>emcee</monospace> implemented the affine-invariant “stretch
  move” proposed by Goodman &amp; Weare
  (<xref alt="2010" rid="ref-GoodmanU003A2010" ref-type="bibr">2010</xref>),
  but there are other ensemble proposals that can get better performance
  for certain applications. <monospace>emcee</monospace> now includes
  implementations of several other ensemble moves and an interface for
  defining custom proposals. The implemented moves include:</p>
  <list list-type="bullet">
    <list-item>
      <p>The “stretch move” proposed by Goodman &amp; Weare
      (<xref alt="2010" rid="ref-GoodmanU003A2010" ref-type="bibr">2010</xref>),</p>
    </list-item>
    <list-item>
      <p>The “differential evolution” and “differential evolution
      snooker update” moves
      (<xref alt="ter Braak, 2006" rid="ref-Ter-BraakU003A2006" ref-type="bibr">ter
      Braak, 2006</xref>;
      <xref alt="ter Braak &amp; Vrugt, 2008" rid="ref-Ter-BraakU003A2008" ref-type="bibr">ter
      Braak &amp; Vrugt, 2008</xref>), and</p>
    </list-item>
    <list-item>
      <p>A “kernel density proposal” based on the implementation in
      <ext-link ext-link-type="uri" xlink:href="https://github.com/bfarr/kombine">the
      <monospace>kombine</monospace> library</ext-link>
      (<xref alt="Farr &amp; Farr, 2015" rid="ref-FarrU003A2015" ref-type="bibr">Farr
      &amp; Farr, 2015</xref>).</p>
    </list-item>
  </list>
  <p><monospace>emcee</monospace> has been widely used and the original
  paper has been highly cited, but there have been many contributions
  from members of the community. This paper is meant to highlight these
  contributions and provide citation credit to the academic
  contributors. A full up-to-date list of contributors can always be
  found
  <ext-link ext-link-type="uri" xlink:href="https://github.com/dfm/emcee/graphs/contributors">on
  GitHub</ext-link>.</p>
</sec>
</body>
<back>
<ref-list>
  <ref-list>
    <ref id="ref-FarrU003A2015">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Farr</surname><given-names>B.</given-names></name>
          <name><surname>Farr</surname><given-names>W. M.</given-names></name>
        </person-group>
        <article-title>Kombine: A kernel-density-based, embarrassingly parallel ensemble sampler</article-title>
        <year iso-8601-date="2015">2015</year>
        <uri>https://github.com/bfarr/kombine</uri>
      </element-citation>
    </ref>
    <ref id="ref-Ter-BraakU003A2008">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>ter Braak</surname><given-names>Cajo J. F.</given-names></name>
          <name><surname>Vrugt</surname><given-names>Jasper A</given-names></name>
        </person-group>
        <article-title>Differential evolution Markov chain with snooker updater and fewer chains</article-title>
        <source>Statistics and Computing</source>
        <publisher-name>Springer</publisher-name>
        <year iso-8601-date="2008">2008</year>
        <volume>18</volume>
        <issue>4</issue>
        <pub-id pub-id-type="doi">10.1007/s11222-008-9104-9</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-Ter-BraakU003A2006">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>ter Braak</surname><given-names>Cajo J. F.</given-names></name>
        </person-group>
        <article-title>A Markov Chain Monte Carlo version of the genetic algorithm Differential Evolution: easy Bayesian computing for real parameter spaces</article-title>
        <source>Statistics and Computing</source>
        <publisher-name>Springer</publisher-name>
        <year iso-8601-date="2006">2006</year>
        <volume>16</volume>
        <issue>3</issue>
        <pub-id pub-id-type="doi">10.1007/s11222-006-8769-1</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-SpeagleU003A2019">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Speagle</surname><given-names>Joshua S</given-names></name>
        </person-group>
        <article-title>dynesty: A Dynamic Nested Sampling Package for Estimating Bayesian Posteriors and Evidences</article-title>
        <source>arXiv e-prints</source>
        <year iso-8601-date="2019-04">2019</year><month>04</month>
        <uri>https://arxiv.org/abs/1904.02180</uri>
      </element-citation>
    </ref>
    <ref id="ref-GoodmanU003A2010">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Goodman</surname><given-names>Jonathan</given-names></name>
          <name><surname>Weare</surname><given-names>Jonathan</given-names></name>
        </person-group>
        <article-title>Ensemble samplers with affine invariance</article-title>
        <source>Communications in applied mathematics and computational science</source>
        <publisher-name>Mathematical Sciences Publishers</publisher-name>
        <year iso-8601-date="2010">2010</year>
        <volume>5</volume>
        <issue>1</issue>
        <pub-id pub-id-type="doi">10.2140/camcos.2010.5.65</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-Foreman-MackeyU003A2013">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Foreman-Mackey</surname><given-names>Daniel</given-names></name>
          <name><surname>Hogg</surname><given-names>David W.</given-names></name>
          <name><surname>Lang</surname><given-names>Dustin</given-names></name>
          <name><surname>Goodman</surname><given-names>Jonathan</given-names></name>
        </person-group>
        <article-title>emcee: The MCMC Hammer</article-title>
        <source>Publications of the Astronomical Society of the Pacific</source>
        <year iso-8601-date="2013-03">2013</year><month>03</month>
        <volume>125</volume>
        <issue>925</issue>
        <uri>https://arxiv.org/abs/1202.3665</uri>
        <pub-id pub-id-type="doi">10.1086/670067</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</ref-list>
</back>
</article>
