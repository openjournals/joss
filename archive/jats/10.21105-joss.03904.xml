<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">3904</article-id>
<article-id pub-id-type="doi">10.21105/joss.03904</article-id>
<title-group>
<article-title>Council Data Project: Software for Municipal Data
Collection, Analysis, and Publication</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0003-2564-0373</contrib-id>
<string-name>Jackson Maxfield Brown</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-9664-3662</contrib-id>
<string-name>To Huynh</string-name>
<xref ref-type="aff" rid="aff-2"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-0182-1615</contrib-id>
<string-name>Isaac Na</string-name>
<xref ref-type="aff" rid="aff-3"/>
</contrib>
<contrib contrib-type="author">
<string-name>Brian Ledbetter</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<string-name>Hawk Ticehurst</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<string-name>Sarah Liu</string-name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<string-name>Emily Gilles</string-name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<string-name>Katlyn M. F. Greene</string-name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<string-name>Sung Cho</string-name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<string-name>Shak Ragoler</string-name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-6008-3763</contrib-id>
<string-name>Nicholas Weber</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>University of Washington Information School, University of
Washington, Seattle</institution>
</institution-wrap>
</aff>
<aff id="aff-2">
<institution-wrap>
<institution>University of Washington, Seattle</institution>
</institution-wrap>
</aff>
<aff id="aff-3">
<institution-wrap>
<institution>Washington University, St. Louis</institution>
</institution-wrap>
</aff>
<aff id="aff-4">
<institution-wrap>
<institution>Independent Contributor</institution>
</institution-wrap>
</aff>
</contrib-group>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2021-10-29">
<day>29</day>
<month>10</month>
<year>2021</year>
</pub-date>
<volume>6</volume>
<issue>68</issue>
<fpage>3904</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2021</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>open government</kwd>
<kwd>open data</kwd>
<kwd>open infrastructure</kwd>
<kwd>municipal governance</kwd>
<kwd>data archival</kwd>
<kwd>civic technology</kwd>
<kwd>natural language processing</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p>Cities, counties, and states throughout the USA are bound by law to
  archive recordings of public meetings. Most local governments comply
  with these laws by posting documents, audio, or video recordings
  online. As there is no set standard for municipal data archives
  however, parsing and processing such data is typically time consuming
  and highly dependent on each municipality. Council Data Project (CDP)
  is a set of open-source tools that improve the accessibility of local
  government data by systematically collecting, transforming, and
  re-publishing this data to the web. The data re-published by CDP is
  packaged and presented within a searchable web application that vastly
  simplifies the process of finding specific information within the
  archived data. We envision this project being used by a variety of
  groups including civic technologists hoping to promote government
  transparency, researchers focused on public policy, natural language
  processing, machine learning, or information retrieval and discovery,
  and many others.</p>
</sec>
<sec id="statement-of-need">
  <title>Statement of Need</title>
  <p>Comparative research into municipal governance in the USA is often
  prohibitively difficult due to a broad federal system where states,
  counties, and cities divide legislative powers differently. This has
  contributed to the lack of large-scale quantitative studies of
  municipal government, and impeded necessary research into effective
  procedural elements of administrative and legislative processes
  (<xref alt="Trounstine, 2009" rid="ref-Trounstine2009" ref-type="bibr">Trounstine,
  2009</xref>). Council Data Project enables large-scale quantitative
  studies by generating standardized municipal governance corpora -
  including legislative voting records, timestamped transcripts, and
  full legislative matter attachments (related reports, presentations,
  amendments, etc.).</p>
  <sec id="related-work">
    <title>Related Work</title>
    <p>Work in extracting and repackaging government data into
    machine-readable and experiment ready datasets has historically
    happened in fields with highly structured data, such as meteorology
    (<xref alt="Sparks et al., 2017" rid="ref-Sparks2017" ref-type="bibr">Sparks
    et al., 2017</xref>) and legal review and monitoring
    (<xref alt="The Free Law Project, 2015" rid="ref-courtlistener" ref-type="bibr">The
    Free Law Project, 2015</xref>). Notably, there has been prior work
    in extracting and repackaging municipal government data with
    <ext-link ext-link-type="uri" xlink:href="https://github.com/codeforamerica/councilmatic">Councilmatic</ext-link>
    (<xref alt="Poe &amp; Gregg, 2015" rid="ref-councilmatic" ref-type="bibr">Poe
    &amp; Gregg, 2015</xref>). However, this work largely aims to make
    municipal data more accessible to a general public, and does not add
    any specific data processing to expand the research capabilities of
    the produced dataset. Recent advances in natural language processing
    have made it possible to conduct large-scale transcript-based
    studies on the effects of gender, ideology, and seniority in Supreme
    Court oral argument
    (<xref alt="Jacobi &amp; Schweers, 2017" rid="ref-jacobi2017" ref-type="bibr">Jacobi
    &amp; Schweers, 2017</xref>) and the effects that information
    communication technology has on civic participation
    (<xref alt="Einstein et al., 2021" rid="ref-einstein2021" ref-type="bibr">Einstein
    et al., 2021</xref>).</p>
  </sec>
  <sec id="cdp-architecture">
    <title>CDP Architecture</title>
    <p>Council Data Project consists of three primary tools:</p>
    <list list-type="order">
      <list-item>
        <p><ext-link ext-link-type="uri" xlink:href="https://github.com/CouncilDataProject/cookiecutter-cdp-deployment">cookiecutter-cdp-deployment</ext-link>:
        A Python
        <ext-link ext-link-type="uri" xlink:href="https://cookiecutter.readthedocs.io/">cookiecutter</ext-link>
        (<xref alt="Greenfeld et al., 2015" rid="ref-cookiecutter" ref-type="bibr">Greenfeld
        et al., 2015</xref>) template to assist users in fully deploying
        a new CDP instance. A “CDP Instance” is a unique deployment of
        CDP software and tools. For example, there is an “instance” of
        CDP for the
        <ext-link ext-link-type="uri" xlink:href="https://councildataproject.org/seattle/#/">“Seattle
        City Council”</ext-link> and an instance of CDP for the “King
        County Council”. Each instance is comprised of its own
        repository, database, file storage bucket, processing pipelines,
        and web application.</p>
      </list-item>
      <list-item>
        <p><ext-link ext-link-type="uri" xlink:href="https://github.com/CouncilDataProject/cdp-backend">cdp-backend</ext-link>:
        A Python package containing CDP’s database schema definition, a
        file format for transcripts generated by speech-to-text
        algorithms, an infrastructure specification, and processing
        pipelines. This package currently contains an event gather and
        processing workflow that will parse event details, generate a
        transcript for the event using either the provided closed
        caption file, or using Google Speech-to-Text from the provided
        event video, and finally, generate and store event metadata
        (voting records, thumbnails, minutes items, etc.) This package
        additionally provides a workflow for generating a TF-IDF based
        event index for weighted term search. The processing workflows
        and all utilities and schemas are separate from any one CDP
        instance so that all CDP instances can be easily upgraded
        whenever there is a new version of
        <monospace>cdp-backend</monospace> released.</p>
      </list-item>
      <list-item>
        <p><ext-link ext-link-type="uri" xlink:href="https://github.com/CouncilDataProject/cdp-frontend">cdp-frontend</ext-link>:
        A TypeScript and React-based component library and web
        application. The web application allows for simple data
        exploration and sharing, and as such, acts as a method to
        interactively explore the data produced by the backend
        pipelines. The web application and the component library are
        separate from any single CDP instance so that all CDP instances
        can be easily upgraded whenever there is a new version of
        <monospace>cdp-frontend</monospace> released.</p>
      </list-item>
    </list>
  </sec>
  <sec id="cookiecutter-and-the-produced-repository">
    <title>Cookiecutter and the Produced Repository</title>
    <p><monospace>cookiecutter-cdp-deployment</monospace> will generate
    all necessary files for an entirely new CDP instance as well as
    additional setup documentation for the user to follow to fully
    complete the instance deployment process.</p>
    <p>Utilizing
    <ext-link ext-link-type="uri" xlink:href="https://github.com/features/actions">GitHub
    Actions</ext-link> and
    <ext-link ext-link-type="uri" xlink:href="https://pages.github.com/">GitHub
    Pages</ext-link>, data processing and web hosting are entirely free
    as long as the user sets their instance’s GitHub repository
    visibility to public.</p>
    <p>Deploying a CDP instance incurs some small primary costs by
    using:</p>
    <list list-type="order">
      <list-item>
        <p><ext-link ext-link-type="uri" xlink:href="https://cloud.google.com/speech-to-text/">Google
        Speech-to-Text</ext-link> for transcript generation.</p>
      </list-item>
      <list-item>
        <p><ext-link ext-link-type="uri" xlink:href="https://firebase.google.com/docs/firestore/">Firebase
        Cloud Firestore</ext-link> for event metadata storage and
        access.</p>
      </list-item>
      <list-item>
        <p><ext-link ext-link-type="uri" xlink:href="https://firebase.google.com/docs/storage">Firebase
        Storage</ext-link> for file storage and access.</p>
      </list-item>
    </list>
    <fig>
      <caption><p>CDP Core Infrastructure and Pipelines. A CDP
      instance’s event gather and processing pipeline can be triggered
      by providing the GitHub Action a custom datetime range to process,
      providing a pre-constructed JSON object (useful for special events
      like debates and such), or the pipeline will automatically run
      every 6 hours. Once initiated, the event gather pipeline will get
      the events for the provided or default date range, create a
      transcript and extra metadata objects (thumbnails, and more), then
      will finally archive the event to Firebase. A CDP instance’s event
      indexing pipeline can be triggered by running the pipeline
      manually or will automatically run every two days.Once initiated,
      the event index pipeline will in parallel, generate and store
      unigrams, bigrams, and trigrams from all event transcripts and
      store them to Firebase for query. Finally, the web application is
      built from a manual trigger or once a week and simply runs a
      standard NPM build process then publishes the generated web
      application to GitHub Pages. Once built and published, the
      deployment website fetches data from Firebase for search and web
      access.<styled-content id="figU003Acore-infra"></styled-content></p></caption>
      <graphic mimetype="image" mime-subtype="png" xlink:href="./assets/cdp_core_infrastructure.png" xlink:title="" />
    </fig>
    <p>CDP tools allow for decentralized control over the management and
    deployment of each CDP instance while producing a standardized
    open-access dataset for both research and for municipal transparency
    and accessibility.</p>
  </sec>
  <sec id="data-access">
    <title>Data Access</title>
    <sec id="web">
      <title>Web</title>
      <p>Once data is processed by a CDP instance, it is available
      through that instance’s interactive web application.</p>
      <fig>
        <caption><p>CDP Web Application. Screenshot of a single event’s
        page. Navigation tabs for basic event details such as the
        minutes items, the entire transcript, and voting information.
        Additionally both the transcript search and the full transcript
        have links to jump to a specific sentence in the meeting. This
        example event page can be found on our Seattle City Council
        “staging” instance:
        http://councildataproject.org/seattle-staging/#/events/0ec08c565d45
        <styled-content id="figU003Aevent-page"></styled-content></p></caption>
        <graphic mimetype="image" mime-subtype="png" xlink:href="./assets/event-page-screenshot.png" xlink:title="" />
      </fig>
    </sec>
    <sec id="python">
      <title>Python</title>
      <p>For users who want programmatic access, each instance’s
      repository README includes a programmatic quickstart guide and our
      database schema is automatically generated and stored in our
      <monospace>cdp-backend</monospace>
      <ext-link ext-link-type="uri" xlink:href="https://councildataproject.org/cdp-backend/database_schema.html">documentation</ext-link>.</p>
      <code language="python">from cdp_backend.database import models as db_models
from cdp_backend.pipeline.transcript_model import Transcript
import fireo
from gcsfs import GCSFileSystem
from google.auth.credentials import AnonymousCredentials
from google.cloud.firestore import Client

# Connect to the database
fireo.connection(client=Client(
    project=&quot;cdp-test-deployment-435b5309&quot;,
    credentials=AnonymousCredentials()
))

# Read from the database
five_people = list(db_models.Person.collection.fetch(5))

# Connect to the file store
fs = GCSFileSystem(project=&quot;cdp-test-deployment-435b5309&quot;, token=&quot;anon&quot;)

# Read a transcript's details from the database
transcript_model = list(db_models.Transcript.collection.fetch(1))[0]

# Read the transcript directly from the file store
with fs.open(transcript_model.file_ref.get().uri, &quot;r&quot;) as open_resource:
    transcript = Transcript.from_json(open_resource.read())

# OR download and store the transcript locally with `get`
fs.get(transcript_model.file_ref.get().uri, &quot;local-transcript.json&quot;)
# Then read the transcript from your local machine
with open(&quot;local-transcript.json&quot;, &quot;r&quot;) as open_resource:
    transcript = Transcript.from_json(open_resource.read())</code>
    </sec>
  </sec>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>We wish to thank the many volunteers that have contributed code,
  design, conversation, and ideas to the project. We wish to thank
  DemocracyLab and Open Seattle for helping build a civic technology
  community. From DemocracyLab, we would specifically like to thank Mark
  Frischmuth for the continued support and helpful discussions. We wish
  to thank the University of Washington Information School for support.
  We wish to thank Code for Science and Society and the Digital
  Infrastructure Incubator for providing guidance on developing a
  sustainable open source project.</p>
</sec>
</body>
<back>
<ref-list>
  <ref-list>
    <ref id="ref-Trounstine2009">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Trounstine</surname><given-names>Jessica</given-names></name>
        </person-group>
        <article-title>All Politics Is Local: The Reemergence of the Study of City Politics</article-title>
        <source>Perspectives on Politics</source>
        <publisher-name>Cambridge University Press</publisher-name>
        <year iso-8601-date="2009">2009</year>
        <volume>7</volume>
        <issue>3</issue>
        <uri>https://doi.org/10.1017/S1537592709990892</uri>
        <pub-id pub-id-type="doi">10.1017/S1537592709990892</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-cookiecutter">
      <element-citation>
        <person-group person-group-type="author">
          <name><surname>Greenfeld</surname><given-names>Audrey Roy</given-names></name>
          <name><surname>Greenfeld</surname><given-names>Daniel Roy</given-names></name>
          <name><surname>Pierzina</surname><given-names>Raphael</given-names></name>
        </person-group>
        <article-title>cookiecutter</article-title>
        <source>GitHub repository</source>
        <publisher-name>GitHub</publisher-name>
        <year iso-8601-date="2015">2015</year>
        <uri>https://github.com/cookiecutter/cookiecutter</uri>
      </element-citation>
    </ref>
    <ref id="ref-Sparks2017">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Sparks</surname><given-names>Adam H.</given-names></name>
          <name><surname>Padgham</surname><given-names>Mark</given-names></name>
          <name><surname>Parsonage</surname><given-names>Hugh</given-names></name>
          <name><surname>Pembleton</surname><given-names>Keith</given-names></name>
        </person-group>
        <article-title>bomrang: Fetch Australian Government Bureau of Meteorology Data in R</article-title>
        <source>Journal of Open Source Software</source>
        <publisher-name>The Open Journal</publisher-name>
        <year iso-8601-date="2017">2017</year>
        <volume>2</volume>
        <issue>17</issue>
        <uri>https://doi.org/10.21105/joss.00411</uri>
        <pub-id pub-id-type="doi">10.21105/joss.00411</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-courtlistener">
      <element-citation>
        <person-group person-group-type="author">
          <string-name>The Free Law Project</string-name>
        </person-group>
        <article-title>CourtListener</article-title>
        <source>GitHub repository</source>
        <publisher-name>GitHub</publisher-name>
        <year iso-8601-date="2015">2015</year>
        <uri>https://github.com/freelawproject/courtlistener</uri>
      </element-citation>
    </ref>
    <ref id="ref-councilmatic">
      <element-citation>
        <person-group person-group-type="author">
          <name><surname>Poe</surname><given-names>Mjumbe</given-names></name>
          <name><surname>Gregg</surname><given-names>Forest</given-names></name>
        </person-group>
        <article-title>Councilmatic</article-title>
        <source>GitHub repository</source>
        <publisher-name>GitHub</publisher-name>
        <year iso-8601-date="2015">2015</year>
        <uri>https://github.com/codeforamerica/councilmatic</uri>
      </element-citation>
    </ref>
    <ref id="ref-jacobi2017">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Jacobi</surname><given-names>Tonja</given-names></name>
          <name><surname>Schweers</surname><given-names>Dylan</given-names></name>
        </person-group>
        <article-title>Justice, interrupted: The effect of gender, ideology, and seniority at Supreme Court oral arguments</article-title>
        <source>Va. L. Rev.</source>
        <publisher-name>HeinOnline</publisher-name>
        <year iso-8601-date="2017">2017</year>
        <volume>103</volume>
        <uri>https://www.virginialawreview.org/wp-content/uploads/2020/12/JacobiSchweers_Online.pdf</uri>
      </element-citation>
    </ref>
    <ref id="ref-einstein2021">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Einstein</surname><given-names>Katherine Levine</given-names></name>
          <name><surname>Glick</surname><given-names>David</given-names></name>
          <name><surname>Puig</surname><given-names>Luisa Godinez</given-names></name>
          <name><surname>Palmer</surname><given-names>Maxwell</given-names></name>
        </person-group>
        <article-title>Zoom Does Not Reduce Unequal Participation: Evidence from Public Meeting Minutes</article-title>
        <publisher-name>Housing Politics Lab</publisher-name>
        <year iso-8601-date="2021">2021</year>
        <uri>https://www.housingpolitics.com/research/online_meetings_participation.pdf</uri>
      </element-citation>
    </ref>
  </ref-list>
</ref-list>
</back>
</article>
