<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">2579</article-id>
<article-id pub-id-type="doi">10.21105/joss.02579</article-id>
<title-group>
<article-title>Minerva: a light-weight, narrative image browser for
multiplexed tissue images</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-5877-4266</contrib-id>
<string-name>John Hoffer</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0001-6986-7209</contrib-id>
<string-name>Rumana Rashid</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-2"/>
<xref ref-type="aff" rid="aff-3"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-0811-637X</contrib-id>
<string-name>Jeremy L. Muhlich</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0001-7228-4696</contrib-id>
<string-name>Yu-An Chen</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-2"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0001-7446-2353</contrib-id>
<string-name>Douglas Peter William Russell</string-name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-6381-121X</contrib-id>
<string-name>Juha Ruokonen</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-6468-8356</contrib-id>
<string-name>Robert Krueger</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-5"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-3620-2582</contrib-id>
<string-name>Hanspeter Pfister</string-name>
<xref ref-type="aff" rid="aff-5"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-7528-9668</contrib-id>
<string-name>Sandro Santagata</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-2"/>
<xref ref-type="aff" rid="aff-3"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-3364-1838</contrib-id>
<string-name>Peter K. Sorger</string-name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="aff" rid="aff-2"/>
<xref ref-type="aff" rid="aff-6"/>
<xref ref-type="corresp" rid="cor-1"><sup>*</sup></xref>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Laboratory of Systems Pharmacology, Harvard Medical School,
Boston, MA</institution>
</institution-wrap>
</aff>
<aff id="aff-2">
<institution-wrap>
<institution>Ludwig Center for Cancer Research at Harvard, Harvard
Medical School, Boston, MA</institution>
</institution-wrap>
</aff>
<aff id="aff-3">
<institution-wrap>
<institution>Department of Pathology, Brigham and Women’s Hospital,
Harvard Medical School, Boston, MA</institution>
</institution-wrap>
</aff>
<aff id="aff-4">
<institution-wrap>
<institution>Mathworks, Natick, MA</institution>
</institution-wrap>
</aff>
<aff id="aff-5">
<institution-wrap>
<institution>School of Engineering and Applied Sciences, Harvard
University, Cambridge, MA</institution>
</institution-wrap>
</aff>
<aff id="aff-6">
<institution-wrap>
<institution>Department of Systems Biology, Harvard Medical School,
Boston, MA</institution>
</institution-wrap>
</aff>
</contrib-group>
<author-notes>
<corresp id="cor-1">* E-mail: <email></email></corresp>
</author-notes>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2020-08-13">
<day>13</day>
<month>8</month>
<year>2020</year>
</pub-date>
<volume>5</volume>
<issue>54</issue>
<fpage>2579</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2021</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>visualization</kwd>
<kwd>image data</kwd>
<kwd>cancer tissue</kwd>
<kwd>storytelling</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p>Advances in highly multiplexed tissue imaging are transforming our
  understanding of human biology by enabling detection and localization
  of 10-100 proteins at subcellular resolution
  (<xref alt="Bodenmiller, 2016" rid="ref-BodenmillerU003A2016" ref-type="bibr">Bodenmiller,
  2016</xref>). Efforts are now underway to create public atlases of
  multiplexed images of normal and diseased tissues
  (<xref alt="Rozenblatt-Rosen et al., 2020" rid="ref-Rozenblatt-RosenU003A2020" ref-type="bibr">Rozenblatt-Rosen
  et al., 2020</xref>). Both research and clinical applications of
  tissue imaging benefit from recording data from complete specimens so
  that data on cell state and composition can be studied in the context
  of overall tissue architecture. As a practical matter, specimen size
  is limited by the dimensions of microscopy slides (2.5 x 7.5 cm or
  ~2-8 cm<inline-formula><alternatives>
  <tex-math><![CDATA[^2]]></tex-math>
  <mml:math display="inline" xmlns:mml="http://www.w3.org/1998/Math/MathML"><mml:msup><mml:mi></mml:mi><mml:mn>2</mml:mn></mml:msup></mml:math></alternatives></inline-formula>
  of tissue depending on shape). With current microscopy technology,
  specimens of this size can be imaged at sub-micron resolution across
  ~60 spectral channels and ~10<inline-formula><alternatives>
  <tex-math><![CDATA[^6]]></tex-math>
  <mml:math display="inline" xmlns:mml="http://www.w3.org/1998/Math/MathML"><mml:msup><mml:mi></mml:mi><mml:mn>6</mml:mn></mml:msup></mml:math></alternatives></inline-formula>
  cells, resulting in image files of terabyte size. However, the rich
  detail and multi-scale properties of these images pose a substantial
  computational challenge
  (<xref alt="Rashid et al., 2020" rid="ref-RashidU003A2020" ref-type="bibr">Rashid
  et al., 2020</xref>). See Rashid et al.
  (<xref alt="2020" rid="ref-RashidU003A2020" ref-type="bibr">2020</xref>)
  for an comparison of existing visualization tools targeting these
  multiplexed tissue images.</p>
  <p>In this paper we describe a new open-source visualization tool,
  Minerva, which facilitates intuitive real-time exploration of large
  multiplexed images on the web. Minerva employs the OpenSeadragon
  (<xref alt="“OpenSeadragon,” n.d." rid="ref-OpenSeadragon" ref-type="bibr">“OpenSeadragon,”
  n.d.</xref>) framework to render images at multiple resolutions and
  makes it possible to pan and zoom across across images in a process
  analogous to Google Maps. However, tissues contain many specialized
  structures recognizable by pathologists and histologists but not
  necessarily by many other scientific or medical users. To capitalize
  on specialized histology expertise we require software that mimics the
  current practice in which a pathologists sits alongside a colleague
  and reviews a specimen by moving from point to point and switching
  between high and low magnifications.</p>
  <p>Minerva is designed to generate precisely these types of
  interactive guides or “stories”. The author of a story creates
  specific waypoints in the image each with a text description,
  position, zoom level, and overlaid shape annotations. In the case of
  highly multiplexed images, a subset of channels is chosen for display
  at each waypoint (typically 4-8 superimposed channels). Authors also
  add interactive single-cell data scatterplots, bar charts, heatmaps,
  and cell outlines with two-way linked navigation between the plots and
  points in the image. Minerva is deployed simply and inexpensively via
  static web hosting. See
  <xref alt="Figure 1" rid="figU003Aworkflow">Figure 1</xref> for a
  schematic of the workflow and system components.</p>
  <fig>
    <caption><p>Minerva
    Workflow.<styled-content id="figU003Aworkflow"></styled-content></p></caption>
    <graphic mimetype="application" mime-subtype="pdf" xlink:href="figure-workflow.pdf" xlink:title="" />
  </fig>
  <p>Minerva is not designed to solve all analytical and visualization
  problems encountered in multiplexed tissue imaging. Instead, it is a
  publication tool specialized to the task of making data shareable and
  broadly intelligible without requiring specialized software on the
  user side. As such, Minerva is designed to be one component in an
  ecosystem of interoperable, open-source software tools.</p>
  <p>Minerva comprises two components, <italic>Minerva Story</italic>
  and <italic>Minerva Author</italic>. <italic>Minerva Story</italic> is
  a single-page web application for presenting an image and its
  narrative to end users. OpenSeadragon
  (<xref alt="“OpenSeadragon,” n.d." rid="ref-OpenSeadragon" ref-type="bibr">“OpenSeadragon,”
  n.d.</xref>) is used to render tiled JPEG image pyramids overlaid with
  the author’s narrative text, graphical annotations and data plots.
  Audio presentation of the narrative text is optionally provided
  through integration with Amazon’s Polly text-to-speech service. The
  image pyramid URL and all narrative details are loaded from an
  independent JSON story definition file. Minerva Story can be hosted
  through GitHub Pages or any other web host supporting static content
  such as Amazon S3.</p>
  <p><italic>Minerva Author</italic> is a desktop application for
  constructing narratives (stories) for Minerva Story. It is a
  JavaScript React web application with a Python Flask backend, packaged
  with PyInstaller as a native application. To create a narrative, the
  author first imports an image in standard OME-TIFF pyramid or SVS
  formats. Both RGB images (brightfield, H&amp;E, immunohistochemistry,
  etc.) and multi-channel fluorescence images (immunofluorescence,
  CODEX, CyCIF, etc.) are supported. Fluorescence image rendering can be
  controlled through per-channel contrast adjustment and pseudocoloring.
  The author then adds one or more story waypoints. For each waypoint,
  the author can type a text description, draw polygon or arrow
  annotations to highlight specific cells, regions, and histological
  features, and choose specific image channels to present. See
  <xref alt="Figure 2" rid="figU003Aauthor">Figure 2</xref> for the
  Minerva Author interface. After the waypoints are complete, Minerva
  Author renders the input image into one or more RGB JPEG image
  pyramids and produces a JSON story definition file. Finally, an author
  uploads the JPEG images (vastly smaller than the raw image data) and
  JSON file to a web host along with the Minerva Story HTML files. Story
  waypoints can be also augmented with interactive linked data
  visualizations. Adding data visualization currently requires manually
  editing the JSON file but a version of Minerva Author is in
  development for adding these types of visualizations natively.</p>
  <fig>
    <caption><p>Minerva Author
    Interface.<styled-content id="figU003Aauthor"></styled-content></p></caption>
    <graphic mimetype="application" mime-subtype="pdf" xlink:href="figure-author.pdf" xlink:title="" />
  </fig>
  <p>Minerva offers two approaches to exploring a narrative. First, in
  the author-driven approach, users can progress through a story in a
  linear path using forward and back navigation buttons, allowing an
  efficient introduction to and expert overview of the data. Second, in
  a free-exploration approach, the user is free to move to any position
  or zoom level and select any channel grouping or segmentation mask.
  Users can also take a hybrid approach by following a story and then
  departing from it to freely explore or skip between waypoints. By
  returning to a story waypoint the narrated overview can be resumed,
  much as one follows an audio guide in a museum. Minerva supports
  creating deep links directly to any position and zoom level in an
  image simply by copying and sharing the current URL from the browser.
  Users can optionally write a text note and draw a custom shape
  annotation that is automatically presented to the recipients.</p>
  <p>We have identified multiple applications for Minerva: visualizing
  cell-type classifiers in image space, validating results of
  unsupervised clustering of single-cell data, manual scanning for
  spatial patterns, assessing quality of antibody staining, obtaining
  second opinions from collaborators, sharing high-resolution primary
  image data alongside published manuscripts, and creating educational
  content for medical trainees. Minerva is also being used by national
  consortia to build tissue atlases, and we plan to add it to existing
  genome browsers such as cBioPortal
  (<xref alt="Cerami et al., 2012" rid="ref-CeramiU003A2012" ref-type="bibr">Cerami
  et al., 2012</xref>) and thereby facilitate joint exploration of
  genomic and histological data.</p>
  <p>Detailed
  <ext-link ext-link-type="uri" xlink:href="https://github.com/labsyspharm/minerva-story/wiki">documentation</ext-link>
  with step-by-step instructions for using Minerva,
  <ext-link ext-link-type="uri" xlink:href="https://github.com/labsyspharm/minerva-story/wiki/Tutorial-Videos">tutorial
  videos</ext-link>,
  <ext-link ext-link-type="uri" xlink:href="https://github.com/labsyspharm/minerva-story/wiki/Example-Dataset">exemplar
  data</ext-link>, and
  <ext-link ext-link-type="uri" xlink:href="https://github.com/labsyspharm/minerva-story/wiki/For-Developers">details
  on software testing</ext-link> are located alongside the
  <ext-link ext-link-type="uri" xlink:href="https://github.com/labsyspharm/minerva-story">source
  code</ext-link> on the
  <ext-link ext-link-type="uri" xlink:href="https://github.com/labsyspharm/minerva-story/wiki">Minerva
  wiki</ext-link> on Github. A wide variety of exemplary Minerva stories
  can be found at
  <ext-link ext-link-type="uri" xlink:href="https://www.cycif.org/software/minerva">https://www.cycif.org/software/minerva</ext-link>.</p>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>This work was funded by NIH grants U54-CA225088 and U2C-CA233262 to
  P.K.S. and S.S., by U2C-CA233280 to P.K.S., and by the Ludwig Cancer
  Center at Harvard. The Dana-Farber/Harvard Cancer Center is supported
  in part by an NCI Grant P30-CA06516.</p>
  <p>We would like to thank our many users and members of the Laboratory
  for Systems Pharmacology at Harvard Medical School for their
  invaluable feedback. Figure 1 was created with BioRender.com.</p>
</sec>
</body>
<back>
<ref-list>
  <ref-list>
    <ref id="ref-BodenmillerU003A2016">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Bodenmiller</surname><given-names>B.</given-names></name>
        </person-group>
        <article-title>Multiplexed epitope-based tissue imaging for discovery and healthcare applications</article-title>
        <source>Cell Systems</source>
        <year iso-8601-date="2016-03">2016</year><month>03</month>
        <pub-id pub-id-type="doi">10.1016/j.cels.2016.03.008</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-Rozenblatt-RosenU003A2020">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Rozenblatt-Rosen</surname><given-names>O.</given-names></name>
          <name><surname>Regev</surname><given-names>A.</given-names></name>
          <name><surname>Oberdoerffer</surname><given-names>P.</given-names></name>
          <name><surname>Nawy</surname><given-names>T.</given-names></name>
          <name><surname>Hupalowska</surname><given-names>A</given-names></name>
          <name><surname>Rood</surname><given-names>J. E.</given-names></name>
          <name><surname>Ashenberg</surname><given-names>O.</given-names></name>
          <name><surname>Cerami</surname><given-names>E.</given-names></name>
          <name><surname>Coffey</surname><given-names>R. J.</given-names></name>
          <name><surname>Demir</surname><given-names>E.</given-names></name>
          <name><surname>Ding</surname><given-names>L.</given-names></name>
          <name><surname>Esplin</surname><given-names>E. D.</given-names></name>
          <name><surname>Ford</surname><given-names>J. M.</given-names></name>
          <name><surname>Goecks</surname><given-names>J.</given-names></name>
          <name><surname>Ghosh</surname><given-names>S.</given-names></name>
          <name><surname>Gray</surname><given-names>J. W.</given-names></name>
          <name><surname>Guinney</surname><given-names>J.</given-names></name>
          <name><surname>Hanlon</surname><given-names>S. E</given-names></name>
          <name><surname>Hughes</surname><given-names>S. K.</given-names></name>
          <name><surname>Hwang</surname><given-names>S.</given-names></name>
          <name><surname>Iacobuzio-Donahue</surname><given-names>C. A.</given-names></name>
          <name><surname>Jané-Valbuena</surname><given-names>J.</given-names></name>
          <name><surname>Johnson</surname><given-names>B. E.</given-names></name>
          <name><surname>Lau</surname><given-names>K. S.</given-names></name>
          <name><surname>Lively</surname><given-names>T.</given-names></name>
          <name><surname>Mazzilli</surname><given-names>S. A.</given-names></name>
          <name><surname>Pe’er</surname><given-names>D.</given-names></name>
          <name><surname>Santagata</surname><given-names>S.</given-names></name>
          <name><surname>Shalek</surname><given-names>A. K.</given-names></name>
          <name><surname>Schapiro</surname><given-names>D.</given-names></name>
          <name><surname>Snyder</surname><given-names>M. P.</given-names></name>
          <name><surname>Sorger</surname><given-names>P. K.</given-names></name>
          <name><surname>Spira</surname><given-names>A. E.</given-names></name>
          <name><surname>Srivastava</surname><given-names>S.</given-names></name>
          <name><surname>Tan</surname><given-names>K.</given-names></name>
          <name><surname>West</surname><given-names>R. B.</given-names></name>
          <name><surname>Williams</surname><given-names>E. H.</given-names></name>
          <string-name>Human Tumor Atlas Network</string-name>
        </person-group>
        <article-title>The human tumor atlas network: Charting tumor transitions across space and time at single-cell resolution</article-title>
        <source>Cell</source>
        <year iso-8601-date="2020-04">2020</year><month>04</month>
        <pub-id pub-id-type="doi">10.1016/j.cell.2020.03.053</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-RashidU003A2020">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Rashid</surname><given-names>R.</given-names></name>
          <name><surname>Chen</surname><given-names>Y. A.</given-names></name>
          <name><surname>Hoffer</surname><given-names>J.</given-names></name>
          <name><surname>Muhlich</surname><given-names>J. L.</given-names></name>
          <name><surname>Chen</surname><given-names>Y. A.</given-names></name>
          <name><surname>Lin</surname><given-names>J. R.</given-names></name>
          <name><surname>Krueger</surname><given-names>R.</given-names></name>
          <name><surname>Pfister</surname><given-names>H.</given-names></name>
          <name><surname>Mitchell</surname><given-names>R.</given-names></name>
          <name><surname>Santagata</surname><given-names>S.</given-names></name>
          <name><surname>Sorger</surname><given-names>P. K.</given-names></name>
        </person-group>
        <article-title>Online narrative guides for illuminating tissue atlas data and digital pathology images</article-title>
        <source>bioRxiv</source>
        <year iso-8601-date="2020-03">2020</year><month>03</month>
        <pub-id pub-id-type="doi">10.1101/2020.03.27.001834</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-OpenSeadragon">
      <element-citation>
        <article-title>OpenSeadragon</article-title>
        <source>GitHub repository</source>
        <publisher-name>GitHub</publisher-name>
        <uri>https://github.com/openseadragon/openseadragon</uri>
      </element-citation>
    </ref>
    <ref id="ref-CeramiU003A2012">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Cerami</surname><given-names>E.</given-names></name>
          <name><surname>Gao</surname><given-names>J.</given-names></name>
          <name><surname>Dogrusoz</surname><given-names>U.</given-names></name>
          <name><surname>Gross</surname><given-names>B. E.</given-names></name>
          <name><surname>Sumer</surname><given-names>S. O.</given-names></name>
          <name><surname>Aksoy</surname><given-names>B. A.</given-names></name>
          <name><surname>Jacobsen</surname><given-names>A.</given-names></name>
          <name><surname>Byrne</surname><given-names>C. J.</given-names></name>
          <name><surname>Heuer</surname><given-names>M. L.</given-names></name>
          <name><surname>Larsson</surname><given-names>E.</given-names></name>
          <name><surname>Antipin</surname><given-names>Y.</given-names></name>
          <name><surname>Reva</surname><given-names>B.</given-names></name>
          <name><surname>Goldberg</surname><given-names>A. P</given-names></name>
          <name><surname>Sander</surname><given-names>C.</given-names></name>
          <name><surname>Schultz</surname><given-names>N.</given-names></name>
        </person-group>
        <article-title>The cBio cancer genomics portal: An open platform for exploring multidimensional cancer genomics data</article-title>
        <source>Cancer Discovery</source>
        <year iso-8601-date="2012-05">2012</year><month>05</month>
        <pub-id pub-id-type="doi">10.1158/2159-8290.CD-12-0095</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</ref-list>
</back>
</article>
